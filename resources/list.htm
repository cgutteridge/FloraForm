{{ ""; @n = sizeof( $default ) + @self->option( "extra-items" ) }} 
<check if="{{@n < @self->option( 'min-items' )}}">
	{{ ""; @n = @self->option( "min-items" ) }}
</check>
<ul id="{{@self->fullId()}}">
<repeat group="{{range( 0, @n )}}" value="{{@i}}">
	<li id="{{@i}}_row" class='ff_item {{@i%2?"ff_even":"ff_odd"}} {{$i?"":"ff_first"}}'>
		<span class='ff_item_number' id='{{@i}}_number'>{{@i+1}}</span>
		<span class='ff_item_remove'><img id="{{@self->fullId(@i.'_remove')}}" src="@self->options['resourcesURL']}}/images/delete.png" /></span>
		{{ ""; @field = clone @self->field}}
		{{ ""; @field->setId( $i )}}
		<span class='ff_item_value {{@field->classes( )}}'>{{@field->renderInput( $default ) | raw }}</span>
	</li>
</repeat>
</ul>
<exclude>
		$template = $this->renderInputRow( $defaults, "ROW_ID" );
		
		$html.= "<span class='ff_item_add' ".$this->renderIDAttr("add")."><img src='".$this->options["resourcesURL"]."/images/add.png' /> More</span>";
		$html.="<script>\n";
		$html.="ff_bindAddButton( '".$this->fullId()."' );\n";
		for( $i=0; $i<$n; ++$i )
		{
			$html.="ff_bindRemoveButton( '".$this->fullId()."',$i );\n";
		}
		$html.="ff['lists']['".$this->fullId()."'] = ".json_encode( array(
			"template" => $template,
			"next_index" => $n )).";\n";
		$html.="</script>\n";
		return $html;
	}
</exclude>
